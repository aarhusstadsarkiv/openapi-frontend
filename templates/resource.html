{% extends "base.html" %}

{% import "macros.html" as macros %}

{% set r = resource %}

{% block bodyclass %}resourcepage{% endblock %}

{% block content %}
<main>
    <h2>Resource</h2>
    {% if user %}
        {% set already = r.id in user.get("bookmarks", []) %}
        <button data-resource-id="{{r.id}}" class="js-only bookmark-handler{% if already %} hide{% endif %}" data-action="create-bookmark">Bogmærk</button>
        <button data-resource-id="{{r.id}}" class="js-only bookmark-handler{% if not already %} hide{% endif %}" data-action="delete-bookmark">Fjern bogmærke</button>
    {% endif %}

    <ul class="schema">
        {{ macros.iterate_dict(r) }}
    </ul>
</main>
{% endblock %}